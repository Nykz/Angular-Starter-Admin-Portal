import{a as Ut,b as qt}from"./chunk-IGWKMDF3.js";import{a as Nt}from"./chunk-ZQNEKBBO.js";import{a as zt}from"./chunk-OCQ4ZSDD.js";import{a as At,b as kt,c as Mt,d as Ot,e as K,f as xt,g as Bt,h as Rt,i as Lt,j as Vt,k as Pt,l as Ht}from"./chunk-TPZHGZ4G.js";import{a as Ft}from"./chunk-I6G6X6ZJ.js";import{c as Et}from"./chunk-XNPXWUEO.js";import{a as It}from"./chunk-2I56YRRQ.js";import{a as Dt,b as St,c as Tt}from"./chunk-QZTPQHYX.js";import"./chunk-FVADJEY4.js";import"./chunk-LYWNF2LM.js";import{c as ue,e as pe,f as gt,g as me,h as vt,j as V,l as Ct,m as he,n as bt,q as wt,s as P}from"./chunk-ED5CQGEH.js";import{g as Me,j as Y,k as ce,o as _t,p as L}from"./chunk-P35S44TO.js";import"./chunk-77TY73XB.js";import{X as pt,Y as mt,ea as ht,ua as ft}from"./chunk-VHJX2WMS.js";import{c as yt,d as le,f as Q,g as ke,h as de}from"./chunk-W4BNGQYG.js";import{$ as Ue,$b as Xe,A as Ve,Ab as Qe,Ac as j,Bc as f,Cb as x,Cc as nt,Dc as k,Fc as it,Gc as ot,Hc as rt,I as Pe,Ia as we,Ic as oe,Jc as re,Kc as se,L as He,Lb as Ye,Lc as $,Mb as Ke,Mc as st,N as be,Nb as Se,Nc as Ie,Oc as lt,Pb as T,Qb as I,Sc as Ee,Vb as m,Wb as s,Xb as d,Xc as G,Yb as A,Z as ze,Zb as Ze,_b as Je,a as F,b as Be,bb as We,cd as dt,dc as E,ea as ne,ed as M,f as Re,fa as qe,fd as p,gb as c,gd as ct,hd as ut,ja as w,kd as Ae,lb as De,lc as g,mb as D,mc as et,nc as h,o as Ce,ob as je,pa as y,qa as _,r as Le,rc as U,sc as q,tc as W,u as ae,ub as b,uc as tt,vb as $e,vc as at,wb as Ge,wc as N,xc as ie,yc as Te,za as C,zb as S}from"./chunk-TOUJTCCI.js";var Z=[{id:1,name:"Maharashtra",country_id:1,remarks:"Commercial hub",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:2,name:"Gujarat",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:3,name:"Karnataka",country_id:1,remarks:"IT hub",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:4,name:"Tamil Nadu",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:5,name:"West Bengal",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:6,name:"Rajasthan",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:7,name:"Kerala",country_id:1,remarks:"Tourist favorite",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:8,name:"Punjab",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:9,name:"Bihar",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:10,name:"Assam",country_id:1,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:1,name:"India",remarks:"\u201CIndia \u2013 A Timeless Civilization: Where Ancient History Meets Deep Cultural Roots\u201D",status:!0,created_at:new Date("2025-07-14 07:36:45"),updated_at:new Date("2025-07-15 10:33:13")}},{id:11,name:"California",country_id:2,remarks:"Tech capital",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:12,name:"Texas",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:13,name:"Florida",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:14,name:"New York",country_id:2,remarks:"Financial hub",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:15,name:"Illinois",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:16,name:"Georgia",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:17,name:"Ohio",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:18,name:"Washington",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:19,name:"Arizona",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:20,name:"Colorado",country_id:2,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:2,name:"United States",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 10:21:24")}},{id:21,name:"Ontario",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:22,name:"Quebec",country_id:3,remarks:"French-speaking",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:23,name:"British Columbia",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:24,name:"Alberta",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:25,name:"Manitoba",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:26,name:"Nova Scotia",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:27,name:"Saskatchewan",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:28,name:"Newfoundland",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:29,name:"New Brunswick",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}},{id:30,name:"Prince Edward Island",country_id:3,remarks:null,status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-14 07:36:46"),country:{id:3,name:"Canada",remarks:"",status:!0,created_at:new Date("2025-07-14 07:36:46"),updated_at:new Date("2025-07-15 09:28:17")}}];var H=class i{http=w(_t);constructor(){}async addState(t){try{t=this.http.cleanFormValues(t);let n=Be(F({},t),{id:33}),e={success:!0,data:F({},n)};return e?.success||this.http.throwResponseError(e),e?.data}catch(n){throw n}}async updateState(t,n){try{let e=!1;console.log(n),n=this.http.cleanFormValues(n),console.log(n);let a=Ut.find(l=>l.id===n?.country_id),o={name:n?.name,country_id:n?.country_id,status:n?.status,remarks:n?.remarks??null,id:t,country:a},r={success:!0,data:F({},o)};return r?.success||this.http.throwResponseError(r),r?.data}catch(e){throw e}}async getStates(t){try{let{page:n=1,size:e=10,sortField:a="id",sortOrder:o="asc",filter:r=""}=t,l=Z.filter(ee=>{let te=r.toLowerCase();return ee.name.toLowerCase().includes(te)||ee.country?.name.toLowerCase().includes(te)});l.sort((ee,te)=>{let Fe=ee[a],Ne=te[a];return Fe<Ne?o==="asc"?-1:1:Fe>Ne?o==="asc"?1:-1:0});let u=l.length,v=(n-1)*e,O=v+e;return{success:!0,data:l.slice(v,O),pagination:{page:n,size:e,total:u,totalPages:Math.ceil(u/e)}}}catch(n){throw n}}async getCountryStates(t){try{let e={success:!0,data:Z.filter(a=>a.country_id===t)};return console.log(e),e?.success||this.http.throwResponseError(e),e?.data}catch(n){throw n}}async getAllStates(){try{let n={success:!0,data:Z};return console.log(n),n?.success||this.http.throwResponseError(n),n?.data}catch(t){throw t}}async deleteState(t){try{let e={success:!0,data:Z.find(a=>a.id===t)};return e?.success||this.http.throwResponseError(e),e?.data}catch(n){throw n}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac,providedIn:"root"})};function Kt(i,t){i&1&&(s(0,"small"),f(1,"*"),d())}function Zt(i,t){if(i&1&&(s(0,"label"),f(1),T(2,Kt,2,0,"small"),d()),i&2){let n=h();c(),k(" ",n.label()," "),c(),I(n.required()?2:-1)}}function Jt(i,t){i&1&&f(0," * Required ")}function Xt(i,t){if(i&1&&(s(0,"div",2)(1,"div")(2,"small",3),T(3,Jt,1,0),d()()()),i&2){h();let n=se(2);c(3),I(n!=null&&n.errors.required?3:-1)}}var fe=class i{label=p();required=p(!0);rows=p(1);placeholder=p();readOnly=p(!1);control=p();get controlInput(){let t=this.control();return t instanceof V?t:new V}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-textarea-form"]],inputs:{label:[1,"label"],required:[1,"required"],rows:[1,"rows"],placeholder:[1,"placeholder"],readOnly:[1,"readOnly"],control:[1,"control"]},decls:6,vars:7,consts:[[1,"form-group","form-label","form-style"],[1,"form-control",3,"rows","readonly","placeholder","formControl"],[1,"invalid-feedback","d-block"],[1,"text-danger"]],template:function(n,e){if(n&1&&(s(0,"div",0),T(1,Zt,3,2,"label"),oe(2),s(3,"textarea",1),f(4,"  "),d(),T(5,Xt,4,1,"div",2),d()),n&2){c(),I(e.label()?1:-1),c();let a=re(e.controlInput);c(),m("rows",e.rows())("readonly",e.readOnly())("placeholder",e.placeholder())("formControl",a),c(2),I(e.required()&&(a!=null&&a.touched)&&(a!=null&&a.invalid)?5:-1)}},dependencies:[P,ue,me,he],styles:["textarea[_ngcontent-%COMP%]{border-radius:10px}textarea[_ngcontent-%COMP%]::placeholder{font-size:var(--font-size-small)}"]})};var ea=["ulElement"],ta=["liElements"],aa=(i,t,n,e)=>({matches:i,itemTemplate:t,query:n,$implicit:e}),na=(i,t,n,e)=>({item:i,index:t,match:n,query:e});function ia(i,t){}function oa(i,t){if(i&1&&A(0,"span",4),i&2){let n=t.match,e=t.query,a=h();m("innerHtml",a.highlight(n,e),We)}}function ra(i,t){if(i&1&&(s(0,"h6",8),f(1),d()),i&2){let n=h().$implicit;c(),nt(n)}}function sa(i,t){}function la(i,t){if(i&1){let n=E();s(0,"button",9,2),g("click",function(a){y(n);let o=h().$implicit,r=h(2);return _(r.selectMatch(o,a))})("mouseenter",function(){y(n);let a=h().$implicit,o=h(2);return _(o.selectActive(a))}),S(2,sa,0,0,"ng-template",3),d()}if(i&2){let n=h(),e=n.$implicit,a=n.index,o=h(2),r=N(2);Te("active",o.isActive(e)),m("id",o.popupId+"-"+a)("@typeaheadAnimation",o.animationState),c(2),m("ngTemplateOutlet",o.itemTemplate||r)("ngTemplateOutletContext",Ee(6,na,e.item,a,e,o.query))}}function da(i,t){if(i&1&&S(0,ra,2,1,"h6",6)(1,la,3,11,"ng-template",7),i&2){let n=t.$implicit;m("ngIf",n.isHeader()),c(),m("ngIf",!n.isHeader())}}function ca(i,t){if(i&1&&S(0,da,2,2,"ng-template",5),i&2){let n=h();m("ngForOf",n.matches)}}var ua={\u00C1:"A",\u0102:"A",\u1EAE:"A",\u1EB6:"A",\u1EB0:"A",\u1EB2:"A",\u1EB4:"A",\u01CD:"A",\u00C2:"A",\u1EA4:"A",\u1EAC:"A",\u1EA6:"A",\u1EA8:"A",\u1EAA:"A",\u00C4:"A",\u01DE:"A",\u0226:"A",\u01E0:"A",\u1EA0:"A",\u0200:"A",\u00C0:"A",\u1EA2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00C5:"A",\u01FA:"A",\u1E00:"A","\u023A":"A",\u00C3:"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY",\u1E02:"B",\u1E04:"B",\u0181:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0106:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0108:"C",\u010A:"C",\u0187:"C","\u023B":"C",\u010E:"D",\u1E10:"D",\u1E12:"D",\u1E0A:"D",\u1E0C:"D",\u018A:"D",\u1E0E:"D",\u01F2:"D",\u01C5:"D",\u0110:"D",\u018B:"D",\u01F1:"DZ",\u01C4:"DZ",\u00C9:"E",\u0114:"E",\u011A:"E",\u0228:"E",\u1E1C:"E",\u00CA:"E",\u1EBE:"E",\u1EC6:"E",\u1EC0:"E",\u1EC2:"E",\u1EC4:"E",\u1E18:"E",\u00CB:"E",\u0116:"E",\u1EB8:"E",\u0204:"E",\u00C8:"E",\u1EBA:"E",\u0206:"E",\u0112:"E",\u1E16:"E",\u1E14:"E",\u0118:"E","\u0246":"E",\u1EBC:"E",\u1E1A:"E","\uA76A":"ET",\u1E1E:"F",\u0191:"F",\u01F4:"G",\u011E:"G",\u01E6:"G",\u0122:"G",\u011C:"G",\u0120:"G",\u0193:"G",\u1E20:"G",\u01E4:"G",\u1E2A:"H",\u021E:"H",\u1E28:"H",\u0124:"H","\u2C67":"H",\u1E26:"H",\u1E22:"H",\u1E24:"H",\u0126:"H",\u00CD:"I",\u012C:"I",\u01CF:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u0130:"I",\u1ECA:"I",\u0208:"I",\u00CC:"I",\u1EC8:"I",\u020A:"I",\u012A:"I",\u012E:"I",\u0197:"I",\u0128:"I",\u1E2C:"I","\uA779":"D","\uA77B":"F","\uA77D":"G","\uA782":"R","\uA784":"S","\uA786":"T","\uA76C":"IS",\u0134:"J","\u0248":"J",\u1E30:"K",\u01E8:"K",\u0136:"K","\u2C69":"K","\uA742":"K",\u1E32:"K",\u0198:"K",\u1E34:"K","\uA740":"K","\uA744":"K",\u0139:"L","\u023D":"L",\u013D:"L",\u013B:"L",\u1E3C:"L",\u1E36:"L",\u1E38:"L","\u2C60":"L","\uA748":"L",\u1E3A:"L",\u013F:"L","\u2C62":"L",\u01C8:"L",\u0141:"L",\u01C7:"LJ",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1E4A:"N",\u1E44:"N",\u1E46:"N",\u01F8:"N",\u019D:"N",\u1E48:"N","\u0220":"N",\u01CB:"N",\u00D1:"N",\u01CA:"NJ",\u00D3:"O",\u014E:"O",\u01D1:"O",\u00D4:"O",\u1ED0:"O",\u1ED8:"O",\u1ED2:"O",\u1ED4:"O",\u1ED6:"O",\u00D6:"O",\u022A:"O",\u022E:"O",\u0230:"O",\u1ECC:"O",\u0150:"O",\u020C:"O",\u00D2:"O",\u1ECE:"O",\u01A0:"O",\u1EDA:"O",\u1EE2:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u020E:"O","\uA74A":"O","\uA74C":"O",\u014C:"O",\u1E52:"O",\u1E50:"O",\u019F:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u00D5:"O",\u1E4C:"O",\u1E4E:"O",\u022C:"O",\u01A2:"OI","\uA74E":"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1E54:"P",\u1E56:"P","\uA752":"P",\u01A4:"P","\uA754":"P","\u2C63":"P","\uA750":"P","\uA758":"Q","\uA756":"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1E58:"R",\u1E5A:"R",\u1E5C:"R",\u0210:"R",\u0212:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA73E":"C",\u018E:"E",\u015A:"S",\u1E64:"S",\u0160:"S",\u1E66:"S",\u015E:"S",\u015C:"S",\u0218:"S",\u1E60:"S",\u1E62:"S",\u1E68:"S",\u0164:"T",\u0162:"T",\u1E70:"T",\u021A:"T","\u023E":"T",\u1E6A:"T",\u1E6C:"T",\u01AC:"T",\u1E6E:"T",\u01AE:"T",\u0166:"T","\u2C6F":"A","\uA780":"L",\u019C:"M","\u0245":"V","\uA728":"TZ",\u00DA:"U",\u016C:"U",\u01D3:"U",\u00DB:"U",\u1E76:"U",\u00DC:"U",\u01D7:"U",\u01D9:"U",\u01DB:"U",\u01D5:"U",\u1E72:"U",\u1EE4:"U",\u0170:"U",\u0214:"U",\u00D9:"U",\u1EE6:"U",\u01AF:"U",\u1EE8:"U",\u1EF0:"U",\u1EEA:"U",\u1EEC:"U",\u1EEE:"U",\u0216:"U",\u016A:"U",\u1E7A:"U",\u0172:"U",\u016E:"U",\u0168:"U",\u1E78:"U",\u1E74:"U","\uA75E":"V",\u1E7E:"V",\u01B2:"V",\u1E7C:"V","\uA760":"VY",\u1E82:"W",\u0174:"W",\u1E84:"W",\u1E86:"W",\u1E88:"W",\u1E80:"W","\u2C72":"W",\u1E8C:"X",\u1E8A:"X",\u00DD:"Y",\u0176:"Y",\u0178:"Y",\u1E8E:"Y",\u1EF4:"Y",\u1EF2:"Y",\u01B3:"Y",\u1EF6:"Y","\u1EFE":"Y",\u0232:"Y","\u024E":"Y",\u1EF8:"Y",\u0179:"Z",\u017D:"Z",\u1E90:"Z","\u2C6B":"Z",\u017B:"Z",\u1E92:"Z",\u0224:"Z",\u1E94:"Z",\u01B5:"Z",\u0132:"IJ",\u0152:"OE","\u1D00":"A","\u1D01":"AE",\u0299:"B","\u1D03":"B","\u1D04":"C","\u1D05":"D","\u1D07":"E","\uA730":"F",\u0262:"G",\u029B:"G",\u029C:"H",\u026A:"I",\u0281:"R","\u1D0A":"J","\u1D0B":"K",\u029F:"L","\u1D0C":"L","\u1D0D":"M",\u0274:"N","\u1D0F":"O",\u0276:"OE","\u1D10":"O","\u1D15":"OU","\u1D18":"P",\u0280:"R","\u1D0E":"N","\u1D19":"R","\uA731":"S","\u1D1B":"T","\u2C7B":"E","\u1D1A":"R","\u1D1C":"U","\u1D20":"V","\u1D21":"W",\u028F:"Y","\u1D22":"Z",\u00E1:"a",\u0103:"a",\u1EAF:"a",\u1EB7:"a",\u1EB1:"a",\u1EB3:"a",\u1EB5:"a",\u01CE:"a",\u00E2:"a",\u1EA5:"a",\u1EAD:"a",\u1EA7:"a",\u1EA9:"a",\u1EAB:"a",\u00E4:"a",\u01DF:"a",\u0227:"a",\u01E1:"a",\u1EA1:"a",\u0201:"a",\u00E0:"a",\u1EA3:"a",\u0203:"a",\u0101:"a",\u0105:"a","\u1D8F":"a",\u1E9A:"a",\u00E5:"a",\u01FB:"a",\u1E01:"a","\u2C65":"a",\u00E3:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay",\u1E03:"b",\u1E05:"b",\u0253:"b",\u1E07:"b","\u1D6C":"b","\u1D80":"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0109:"c",\u0255:"c",\u010B:"c",\u0188:"c","\u023C":"c",\u010F:"d",\u1E11:"d",\u1E13:"d","\u0221":"d",\u1E0B:"d",\u1E0D:"d",\u0257:"d","\u1D91":"d",\u1E0F:"d","\u1D6D":"d","\u1D81":"d",\u0111:"d",\u0256:"d",\u018C:"d",\u0131:"i","\u0237":"j",\u025F:"j",\u0284:"j",\u01F3:"dz",\u01C6:"dz",\u00E9:"e",\u0115:"e",\u011B:"e",\u0229:"e",\u1E1D:"e",\u00EA:"e",\u1EBF:"e",\u1EC7:"e",\u1EC1:"e",\u1EC3:"e",\u1EC5:"e",\u1E19:"e",\u00EB:"e",\u0117:"e",\u1EB9:"e",\u0205:"e",\u00E8:"e",\u1EBB:"e",\u0207:"e",\u0113:"e",\u1E17:"e",\u1E15:"e","\u2C78":"e",\u0119:"e","\u1D92":"e","\u0247":"e",\u1EBD:"e",\u1E1B:"e","\uA76B":"et",\u1E1F:"f",\u0192:"f","\u1D6E":"f","\u1D82":"f",\u01F5:"g",\u011F:"g",\u01E7:"g",\u0123:"g",\u011D:"g",\u0121:"g",\u0260:"g",\u1E21:"g","\u1D83":"g",\u01E5:"g",\u1E2B:"h",\u021F:"h",\u1E29:"h",\u0125:"h","\u2C68":"h",\u1E27:"h",\u1E23:"h",\u1E25:"h",\u0266:"h",\u1E96:"h",\u0127:"h",\u0195:"hv",\u00ED:"i",\u012D:"i",\u01D0:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u1ECB:"i",\u0209:"i",\u00EC:"i",\u1EC9:"i",\u020B:"i",\u012B:"i",\u012F:"i","\u1D96":"i",\u0268:"i",\u0129:"i",\u1E2D:"i","\uA77A":"d","\uA77C":"f","\u1D79":"g","\uA783":"r","\uA785":"s","\uA787":"t","\uA76D":"is",\u01F0:"j",\u0135:"j",\u029D:"j","\u0249":"j",\u1E31:"k",\u01E9:"k",\u0137:"k","\u2C6A":"k","\uA743":"k",\u1E33:"k",\u0199:"k",\u1E35:"k","\u1D84":"k","\uA741":"k","\uA745":"k",\u013A:"l",\u019A:"l",\u026C:"l",\u013E:"l",\u013C:"l",\u1E3D:"l","\u0234":"l",\u1E37:"l",\u1E39:"l","\u2C61":"l","\uA749":"l",\u1E3B:"l",\u0140:"l",\u026B:"l","\u1D85":"l",\u026D:"l",\u0142:"l",\u01C9:"lj",\u017F:"s","\u1E9C":"s",\u1E9B:"s","\u1E9D":"s",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m","\u1D6F":"m","\u1D86":"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1E4B:"n","\u0235":"n",\u1E45:"n",\u1E47:"n",\u01F9:"n",\u0272:"n",\u1E49:"n",\u019E:"n","\u1D70":"n","\u1D87":"n",\u0273:"n",\u00F1:"n",\u01CC:"nj",\u00F3:"o",\u014F:"o",\u01D2:"o",\u00F4:"o",\u1ED1:"o",\u1ED9:"o",\u1ED3:"o",\u1ED5:"o",\u1ED7:"o",\u00F6:"o",\u022B:"o",\u022F:"o",\u0231:"o",\u1ECD:"o",\u0151:"o",\u020D:"o",\u00F2:"o",\u1ECF:"o",\u01A1:"o",\u1EDB:"o",\u1EE3:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u020F:"o","\uA74B":"o","\uA74D":"o","\u2C7A":"o",\u014D:"o",\u1E53:"o",\u1E51:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u00F5:"o",\u1E4D:"o",\u1E4F:"o",\u022D:"o",\u01A3:"oi","\uA74F":"oo",\u025B:"e","\u1D93":"e",\u0254:"o","\u1D97":"o",\u0223:"ou",\u1E55:"p",\u1E57:"p","\uA753":"p",\u01A5:"p","\u1D71":"p","\u1D88":"p","\uA755":"p","\u1D7D":"p","\uA751":"p","\uA759":"q",\u02A0:"q","\u024B":"q","\uA757":"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1E59:"r",\u1E5B:"r",\u1E5D:"r",\u0211:"r",\u027E:"r","\u1D73":"r",\u0213:"r",\u1E5F:"r",\u027C:"r","\u1D72":"r","\u1D89":"r","\u024D":"r",\u027D:"r","\u2184":"c","\uA73F":"c",\u0258:"e",\u027F:"r",\u015B:"s",\u1E65:"s",\u0161:"s",\u1E67:"s",\u015F:"s",\u015D:"s",\u0219:"s",\u1E61:"s",\u1E63:"s",\u1E69:"s",\u0282:"s","\u1D74":"s","\u1D8A":"s","\u023F":"s",\u0261:"g","\u1D11":"o","\u1D13":"o","\u1D1D":"u",\u0165:"t",\u0163:"t",\u1E71:"t",\u021B:"t","\u0236":"t",\u1E97:"t","\u2C66":"t",\u1E6B:"t",\u1E6D:"t",\u01AD:"t",\u1E6F:"t","\u1D75":"t",\u01AB:"t",\u0288:"t",\u0167:"t","\u1D7A":"th",\u0250:"a","\u1D02":"ae",\u01DD:"e","\u1D77":"g",\u0265:"h","\u02AE":"h","\u02AF":"h","\u1D09":"i",\u029E:"k","\uA781":"l",\u026F:"m",\u0270:"m","\u1D14":"oe",\u0279:"r",\u027B:"r",\u027A:"r","\u2C79":"r",\u0287:"t",\u028C:"v",\u028D:"w",\u028E:"y","\uA729":"tz",\u00FA:"u",\u016D:"u",\u01D4:"u",\u00FB:"u",\u1E77:"u",\u00FC:"u",\u01D8:"u",\u01DA:"u",\u01DC:"u",\u01D6:"u",\u1E73:"u",\u1EE5:"u",\u0171:"u",\u0215:"u",\u00F9:"u",\u1EE7:"u",\u01B0:"u",\u1EE9:"u",\u1EF1:"u",\u1EEB:"u",\u1EED:"u",\u1EEF:"u",\u0217:"u",\u016B:"u",\u1E7B:"u",\u0173:"u","\u1D99":"u",\u016F:"u",\u0169:"u",\u1E79:"u",\u1E75:"u","\u1D6B":"ue","\uA778":"um","\u2C74":"v","\uA75F":"v",\u1E7F:"v",\u028B:"v","\u1D8C":"v","\u2C71":"v",\u1E7D:"v","\uA761":"vy",\u1E83:"w",\u0175:"w",\u1E85:"w",\u1E87:"w",\u1E89:"w",\u1E81:"w","\u2C73":"w",\u1E98:"w",\u1E8D:"x",\u1E8B:"x","\u1D8D":"x",\u00FD:"y",\u0177:"y",\u00FF:"y",\u1E8F:"y",\u1EF5:"y",\u1EF3:"y",\u01B4:"y",\u1EF7:"y","\u1EFF":"y",\u0233:"y",\u1E99:"y","\u024F":"y",\u1EF9:"y",\u017A:"z",\u017E:"z",\u1E91:"z",\u0291:"z","\u2C6C":"z",\u017C:"z",\u1E93:"z",\u0225:"z",\u1E95:"z","\u1D76":"z","\u1D8E":"z",\u0290:"z",\u01B6:"z","\u0240":"z",\uFB00:"ff",\uFB03:"ffi",\uFB04:"ffl",\uFB01:"fi",\uFB02:"fl",\u0133:"ij",\u0153:"oe",\uFB06:"st","\u2090":"a","\u2091":"e","\u1D62":"i","\u2C7C":"j","\u2092":"o","\u1D63":"r","\u1D64":"u","\u1D65":"v","\u2093":"x"};var z=class{constructor(t,n=t,e=!1){this.item=t,this.value=n,this.header=e}isHeader(){return this.header}toString(){return this.value}};function X(i){return i?i.replace(/[^A-Za-z0-9[\] ]/g,function(t){return ua[t]||t}):""}function xe(i,t=" ",n="",e){let a=[];if(!e)a=Wt(i,t,n);else{let o=`([${e}]+)`,r=i.split(new RegExp(o,"g")),l=r[r.length-1];l>""&&(t&&n?a=Wt(l,t,n):a.push(l))}return a}function Wt(i,t,n){let e=[],a=`(?:[${n}])([^${n}]+)(?:[${n}])|([^${t}]+)`,o=i.split(new RegExp(a,"g")),r=o.length,l,u=new RegExp(`[${n}]+`,"g");for(let v=0;v<r;v+=1)l=o[v],l&&l.length&&l!==t&&e.push(l.replace(u,""));return e}function R(i,t){if(!t||typeof i!="object")return i.toString();if(t.endsWith("()")){let a=t.slice(0,t.length-2);return i[a]().toString()}let e=t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(let a of e)a in i&&(i=i[a]);return i?i.toString():""}var jt="220ms cubic-bezier(0, 0, 0.2, 1)",pa=yt("typeaheadAnimation",[ke("animated-down",Q({height:"*",overflow:"hidden"})),de("* => animated-down",[Q({height:0,overflow:"hidden"}),le(jt)]),ke("animated-up",Q({height:"*",overflow:"hidden"})),de("* => animated-up",[Q({height:"*",overflow:"hidden"}),le(jt)]),de("* => unanimated",le("0s"))]),ma=0,ha=(()=>{let t=class t{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(e,a,o,r){this.positionService=e,this.renderer=a,this.element=o,this.changeDetectorRef=r,this.activeChangeEvent=new x,this.isFocused=!1,this.positionServiceSubscription=new Re,this.height=0,this.popupId=`ngb-typeahead-${ma++}`,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated){this.animationState=this.isTopPosition?"animated-up":"animated-down",this.changeDetectorRef.detectChanges();return}this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(e){this._active=e,this.activeChanged()}get matches(){return this._matches}set matches(e){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=e,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){let a=this._matches.find(o=>o.value===this._active?.value);if(a){this.selectActive(a);return}this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return this.parent?this.parent.isAnimated:!1}get adaptivePosition(){return this.parent?this.parent.adaptivePosition:!1}get typeaheadScrollable(){return this.parent?this.parent.typeaheadScrollable:!1}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return this.parent?this.parent.typeaheadIsFirstItemActive:!0}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(e){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&e&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;let e=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${e}`)}prevActiveMatch(){if(!this._active)return;let e=this.matches.indexOf(this._active);this.setActive(this.matches[e-1<0?this.matches.length-1:e-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(e)}nextActiveMatch(){let e=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[e+1>this.matches.length-1?0:e+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(e)}selectActive(e){this.isFocused=!0,this.setActive(e)}highlight(e,a){let o=e.value,r=(this.parent&&this.parent.typeaheadLatinize?X(o):o).toLowerCase(),l,u;if(typeof a=="object"){let v=a.length;for(let O=0;O<v;O+=1)l=r.indexOf(a[O]),u=a[O].length,l>=0&&u>0&&(o=`${o.substring(0,l)}<strong>${o.substring(l,l+u)}</strong>${o.substring(l+u)}`,r=`${r.substring(0,l)}????????${"??".repeat(u)}??????????${r.substring(l+u)}`)}else a&&(l=r.indexOf(a),u=a.length,l>=0&&u>0&&(o=`${o.substring(0,l)}<strong>${o.substring(l,l+u)}</strong>${o.substring(l+u)}`));return o}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(e){return this.active===e}selectMatch(e,a){return a&&(a.stopPropagation(),a.preventDefault()),this.parent?.changeModel(e),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(e),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){let e=Me.getStyles(this.ulElement.nativeElement),a=Me.getStyles(this.liElements.first.nativeElement),o=parseFloat((e["padding-bottom"]?e["padding-bottom"]:"").replace("px","")),r=parseFloat((e["padding-top"]?e["padding-top"]:"0").replace("px","")),l=parseFloat((a.height?a.height:"0").replace("px","")),u=this.typeaheadOptionsInScrollableView*l;this.guiHeight=`${u+r+o}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(e){if(e===0){this.scrollToBottom();return}if(this.liElements&&this.ulElement){let a=this.liElements.toArray()[e-1];a&&!this.isScrolledIntoView(a.nativeElement)&&(this.ulElement.nativeElement.scrollTop=a.nativeElement.offsetTop)}}scrollNext(e){if(e+1>this.matches.length-1){this.scrollToTop();return}if(this.liElements&&this.ulElement){let a=this.liElements.toArray()[e+1];a&&!this.isScrolledIntoView(a.nativeElement)&&(this.ulElement.nativeElement.scrollTop=a.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(a.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(e){this._active=e;let a;this._active==null||this._active.isHeader()||(a=e),this.parent?.typeaheadOnPreview.emit(a)}isScrolledIntoView(e){if(!this.ulElement)return!1;let a=this.ulElement.nativeElement.scrollTop,o=a+Number(this.ulElement.nativeElement.offsetHeight),r=e.offsetTop;return r+e.offsetHeight<=o&&r>=a}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}};t.\u0275fac=function(a){return new(a||t)(D(Y),D(De),D(we),D(Ae))},t.\u0275cmp=b({type:t,selectors:[["typeahead-container"]],viewQuery:function(a,o){if(a&1&&(U(ea,5),U(ta,5)),a&2){let r;q(r=W())&&(o.ulElement=r.first),q(r=W())&&(o.liElements=r)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(a,o){a&1&&g("mouseleave",function(){return o.focusLost()})("blur",function(){return o.focusLost()}),a&2&&(Se("role","listbox"),ie("height",o.needScrollbar?o.guiHeight:"auto")("visibility","inherit"),Te("dropup",o.dropup))},outputs:{activeChangeEvent:"activeChange"},features:[Ie([Y])],decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(a,o){if(a&1&&S(0,ia,0,0,"ng-template",3)(1,oa,1,1,"ng-template",null,0,G)(3,ca,1,1,"ng-template",null,1,G),a&2){let r=N(2),l=N(4);m("ngTemplateOutlet",o.optionsListTemplate||l)("ngTemplateOutletContext",Ee(2,aa,o.matches,o.itemTemplate||r,o.query,o.typeaheadTemplateMethods))}},dependencies:[ht,pt,mt],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[pa]}});let i=t;return i})(),$t=(()=>{let t=class t{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=ne({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Gt=(()=>{let t=class t{constructor(e,a,o,r,l,u,v){this.changeDetection=o,this.element=r,this.ngControl=l,this.renderer=u,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters=`'"`,this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new x,this.typeaheadNoResults=new x,this.typeaheadOnSelect=new x,this.typeaheadOnPreview=new x,this.typeaheadOnBlur=new x,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new x,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=e.createLoader(r,v,u).provide({provide:$t,useValue:a}),Object.assign(this,{typeaheadHideResultsOnBlur:a.hideResultsOnBlur,cancelRequestOnFocusLost:a.cancelRequestOnFocusLost,typeaheadSelectFirstItem:a.selectFirstItem,typeaheadIsFirstItemActive:a.isFirstItemActive,typeaheadMinLength:a.minLength,adaptivePosition:a.adaptivePosition,isAnimated:a.isAnimated,selectItemOnBlur:a.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=this.typeaheadMinLength===void 0?1:this.typeaheadMinLength,this.typeaheadAsync===void 0&&!ae(this.typeahead)&&(this.typeaheadAsync=!1),ae(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(e){let a=e.target.value!==void 0?e.target.value:e.target.textContent!==void 0?e.target.textContent:e.target.innerText;a!=null&&a.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(e.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(e){if(this._container){if(e.keyCode===27||e.key==="Escape"){this.hide();return}if(e.keyCode===38||e.key==="ArrowUp"){this.isActiveItemChanged=!0,this._container.prevActiveMatch();return}if(e.keyCode===40||e.key==="ArrowDown"){this.isActiveItemChanged=!0,this._container.nextActiveMatch();return}if(e.keyCode===13||e.key==="Enter"){this._container.selectActiveMatch();return}}}onFocus(){this.isFocused=!0,setTimeout(()=>{this.typeaheadMinLength===0&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&this._matches?.length===0&&this.typeaheadOnBlur.emit(new z(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(e){if(this._container&&((e.keyCode===9||e.key==="Tab")&&this.onBlur(),e.keyCode===9||e.key==="Tab"||e.keyCode===13||e.key==="Enter")){if(e.preventDefault(),this.typeaheadSelectFirstItem){this._container.selectActiveMatch();return}this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(e){if(!e)return;let a;if(this.typeaheadMultipleSearch&&this._allEnteredValue){let o=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=o.slice(0,o.length-1).concat(e.value).join(""),a=this._allEnteredValue}else a=e.value;this.ngControl.viewToModelUpdate(a),this.ngControl.control?.setValue(a),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(ha).to(this.container).position({attachment:`${this.dropup?"top":"bottom"} left`}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",a=>{this.typeaheadMinLength===0&&this.element.nativeElement.contains(a.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(a.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;let e=(this.typeaheadLatinize?X(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(e),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(a=>{this.activeDescendant=a,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(let e of this._subscriptions)e.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(be(this.typeaheadWaitMs),Ue(e=>this._allEnteredValue=e),ze(()=>this.typeahead?this.typeahead:Ce)).subscribe(e=>{this.finalizeAsyncCall(e)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe(be(this.typeaheadWaitMs),Ve(e=>{this._allEnteredValue=e;let a=this.normalizeQuery(e);return this.typeahead?(ae(this.typeahead)?this.typeahead:Le(this.typeahead)).pipe(Pe(r=>!!r&&this.testMatch(this.normalizeOption(r),a)),He()):Ce})).subscribe(e=>{this.finalizeAsyncCall(e)}))}normalizeOption(e){let a=R(e,this.typeaheadOptionField);return(this.typeaheadLatinize?X(a):a).toLowerCase()}tokenizeQuery(e){let a=e;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(a=xe(a,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):this.typeaheadSingleWords?a=xe(a,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):a=xe(a,void 0,void 0,this.typeaheadMultipleSearchDelimiters),a}normalizeQuery(e){let a=(this.typeaheadLatinize?X(e):e).toString().toLowerCase();return a=this.tokenizeQuery(a),a}testMatch(e,a){let o;if(typeof a=="object"){o=a.length;for(let r=0;r<o;r+=1)if(a[r].length>0&&e.indexOf(a[r])<0)return!1;return!0}return e.indexOf(a)>=0}finalizeAsyncCall(e){if(this.prepareMatches(e||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),!this.hasMatches()){this.hide();return}if(!(!this.isFocused&&this.cancelRequestOnFocusLost))if(this._container&&this.ngControl.control){let o=((this.typeaheadLatinize?X(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(o),this._container.matches=this._matches}else this.show()}prepareMatches(e){let a=e.slice(0,this.typeaheadOptionsLimit),o=this.typeaheadOrderBy?this.orderMatches(a):a;if(this.typeaheadGroupField){let r=[];o.map(u=>R(u,this.typeaheadGroupField)).filter((u,v,O)=>O.indexOf(u)===v).forEach(u=>{r.push(new z(u,u,!0)),r=r.concat(o.filter(v=>R(v,this.typeaheadGroupField)===u).map(v=>new z(v,R(v,this.typeaheadOptionField))))}),this._matches=r}else this._matches=o.map(r=>new z(r,R(r,this.typeaheadOptionField)))}orderMatches(e){if(!e.length)return e;if(this.typeaheadOrderBy!==null&&this.typeaheadOrderBy!==void 0&&typeof this.typeaheadOrderBy=="object"&&Object.keys(this.typeaheadOrderBy).length===0)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),e;let{field:a,direction:o}=this.typeaheadOrderBy||{};return!o||!(o==="asc"||o==="desc")?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),e):typeof e[0]=="string"?o==="asc"?e.sort():e.sort().reverse():!a||typeof a!="string"?(console.error("typeaheadOrderBy field has to set according to the documentation."),e):e.sort((r,l)=>{let u=R(r,a),v=R(l,a);return u<v?o==="asc"?-1:1:u>v?o==="asc"?1:-1:0})}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different
          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and
          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).
          Please refer to the documentation`)}haveCommonCharacters(e,a){for(let o=0;o<e.length;o++)if(e.charAt(o).indexOf(a)>-1)return!0;return!1}};t.\u0275fac=function(a){return new(a||t)(D(ce),D($t),D(Ae),D(we),D(gt),D(De),D(je))},t.\u0275dir=Ge({type:t,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(a,o){a&1&&g("input",function(l){return o.onInput(l)})("keyup",function(l){return o.onChange(l)})("click",function(){return o.onFocus()})("focus",function(){return o.onFocus()})("blur",function(){return o.onBlur()})("keydown",function(l){return o.onKeydown(l)}),a&2&&Se("aria-activedescendant",o.activeDescendant)("aria-owns",o.isOpen?o._container.popupId:null)("aria-expanded",o.isOpen)("aria-autocomplete",o.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"],features:[Ie([ce,Y])]});let i=t;return i})(),Qt=(()=>{let t=class t{static forRoot(){return{ngModule:t,providers:[]}}};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=$e({type:t}),t.\u0275inj=qe({imports:[ft]});let i=t;return i})();var ye=class i{icon=p();color=p("var(--tertiary-color)");addBtnClass=p("ms-1");addIconClass=p();onClick=M();btnClick(){this.onClick.emit(!0)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-icon-button"]],inputs:{icon:[1,"icon"],color:[1,"color"],addBtnClass:[1,"addBtnClass"],addIconClass:[1,"addIconClass"]},outputs:{onClick:"onClick"},decls:2,vars:9,consts:[[3,"click"]],template:function(n,e){n&1&&(Ze(0,"button",0),et("click",function(){return e.btnClick()}),Xe(1,"i"),Je()),n&2&&(j($("",e.addBtnClass()," btn btn-sm")),ie("color",e.color()),c(),j(st("",e.icon()," ",e.addIconClass())))},styles:["button[_ngcontent-%COMP%]{box-shadow:none;font-size:large}"]})};var ya=["typeaheadInput"];function _a(i,t){i&1&&(s(0,"small"),f(1,"*"),d())}function ga(i,t){if(i&1&&(s(0,"label"),f(1),T(2,_a,2,0,"small"),d()),i&2){let n=h();c(),k(" ",n.label()," "),c(),I(n.required()?2:-1)}}function va(i,t){if(i&1&&(s(0,"span",4),f(1),d()),i&2){let n=h();c(),k(" ",n.endText()," ")}}function Ca(i,t){if(i&1){let n=E();s(0,"span",5)(1,"app-icon-button",7),g("onClick",function(a){y(n);let o=h();return _(o.buttonTapped(a))}),d()()}if(i&2){let n=h();c(),m("icon",$("fa fa-",n.buttonIcon()))}}function ba(i,t){i&1&&f(0," * Required ")}function wa(i,t){if(i&1&&(s(0,"div",6)(1,"div")(2,"small",8),T(3,ba,1,0),d()()()),i&2){h();let n=se(2);c(3),I(n!=null&&n.errors.required?3:-1)}}var _e=class i{typeaheadInput;data=p([]);label=p();type=p("text");icon=p();endText=p();required=p(!0);placeholder=p();debounce=p(500);displayField=p("name");endButton=p(!1);buttonIcon=p("add");control=p();get controlInput(){let t=this.control();return t instanceof V?t:new V}query=M();onSelected=M();onButtonClick=M();updateSearchData=ut(!1);skipNextInputEmit=C(!1);constructor(){dt(()=>{this.updateSearchData()&&(console.log("update search result"),this.refreshTypeahead(),this.updateSearchData.set(!1))})}setSkipNextInputEmit(t){this.skipNextInputEmit.set(t)}refreshTypeahead(){this.setSkipNextInputEmit(!0),setTimeout(()=>{let t=this.typeaheadInput?.nativeElement;console.log(t),t&&t.dispatchEvent(new Event("input",{bubbles:!0}))})}onChange(t){if(this.skipNextInputEmit()){this.setSkipNextInputEmit(!1);return}this.query.emit(t)}onSelect(t){let n=t.item;console.log(n),this.onSelected.emit(n)}buttonTapped(t){this.onButtonClick.emit(t)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-typeahead-form"]],viewQuery:function(n,e){if(n&1&&U(ya,7),n&2){let a;q(a=W())&&(e.typeaheadInput=a.first)}},inputs:{data:[1,"data"],label:[1,"label"],type:[1,"type"],icon:[1,"icon"],endText:[1,"endText"],required:[1,"required"],placeholder:[1,"placeholder"],debounce:[1,"debounce"],displayField:[1,"displayField"],endButton:[1,"endButton"],buttonIcon:[1,"buttonIcon"],control:[1,"control"],updateSearchData:[1,"updateSearchData"]},outputs:{query:"query",onSelected:"onSelected",onButtonClick:"onButtonClick",updateSearchData:"updateSearchDataChange"},decls:10,vars:14,consts:[["typeaheadInput",""],[1,"form-group","form-label","form-style"],[1,"icons-input"],["appDebounce","",1,"form-control",3,"typeaheadOnSelect","debouncedInput","type","placeholder","formControl","typeahead","typeaheadOptionField","debounceTime"],[1,"align-item","text_end"],[1,"align-item","button_end"],[1,"invalid-feedback","d-block"],[3,"onClick","icon"],[1,"text-danger"]],template:function(n,e){if(n&1){let a=E();s(0,"div",1),T(1,ga,3,2,"label"),oe(2),s(3,"div",2),A(4,"span"),s(5,"input",3,0),g("typeaheadOnSelect",function(r){return y(a),_(e.onSelect(r))})("debouncedInput",function(r){return y(a),_(e.onChange(r))}),d(),T(7,va,2,1,"span",4),T(8,Ca,2,2,"span",5),d(),T(9,wa,4,1,"div",6),d()}if(n&2){c(),I(e.label()?1:-1),c();let a=re(e.controlInput);c(2),j($("fas fa-",e.icon()," align-item icons")),c(),m("type",e.type())("placeholder",e.placeholder())("formControl",a)("typeahead",e.data())("typeaheadOptionField",e.displayField())("debounceTime",e.debounce()),c(2),I(e.endText()?7:-1),c(),I(e.endButton()?8:-1),c(),I(e.required()&&(a!=null&&a.touched)&&(a!=null&&a.invalid)?9:-1)}},dependencies:[P,ue,me,he,Qt,Gt,Bt,ye],encapsulation:2})};function Da(i,t){}var ge=class i{formData=C(null);updateItem=p();isCountryFetched=C(!1);countries=C([]);added=M();updated=M();formBuilder=w(wt);global=w(L);stateService=w(H);countryService=w(qt);constructor(){}ngOnInit(){this.initForm()}initForm(){let t=this.updateItem();console.log(t);let n=this.formBuilder.group({country_name:[t?.country?.name??null,pe.required],country_id:[t?.country_id??null,pe.required],name:[t?.name??null,pe.required],remarks:[t?.remarks||null],status:[t?.status??!1]});this.formData.set(n)}onCountryChange(t){console.log(t),t?.trim()?.length>0&&this.getCountries(t)}async getCountries(t){try{this.global.showSpinner();let n=await this.countryService.getAllCountries(t);console.log(n),this.countries.set(n),this.isCountryFetched.set(!0)}catch(n){this.global.showErrorMessage(n,null,3e3,!1,"decreasing","toast-top-center")}finally{this.global.hideSpinner()}}updateCountry(t){this.formData()?.patchValue({country_id:t.id}),console.log(this.formData()?.value)}onSubmit(){if(this.formData()?.invalid){console.log("submit"),this.formData()?.markAllAsTouched();return}this.addState()}async addState(){try{this.global.showSpinner();let t="added",n;if(this.updateItem()){let e="updated";n=await this.stateService.updateState(this.updateItem().id,this.formData()?.value),this.updated.emit(n)}else n=await this.stateService.addState(this.formData()?.value),this.added.emit(n);console.log(n),this.global.showSuccess(`State ${t} successfully`,null,5e3,!1,"increasing","toast-top-center"),this.global.hideModal()}catch(t){console.log(t),this.global.showAlert("Error!",t,"OK")}finally{this.global.hideSpinner()}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-add-state"]],inputs:{updateItem:[1,"updateItem"]},outputs:{added:"added",updated:"updated"},decls:15,vars:12,consts:[[3,"ngSubmit","formGroup"],[1,"row","g-4","mb-6","mx-4"],["align","center",1,"form-group","col-md-12"],["label","Status",3,"control"],[1,"col-xl-6","col-sm-6","col-12"],["label","NAME","placeholder","Name","icon","building",3,"required","control"],["label","COUNTRY","placeholder","Country","icon","building",3,"query","updateSearchDataChange","onSelected","required","debounce","control","data","updateSearchData"],["label","REMARKS","placeholder","Remarks",3,"required","control"],[1,"box-footer","mt-4","d-flex","justify-content-center"]],template:function(n,e){if(n&1){let a=E();Qe(0,Da,0,0),Ye(1,0),s(3,"form",0),g("ngSubmit",function(){return y(a),_(e.onSubmit())}),s(4,"div",1)(5,"div",2),A(6,"app-toggle-form-button",3),d(),s(7,"div",4),A(8,"app-input-form",5),d(),s(9,"div",4)(10,"app-typeahead-form",6),g("query",function(r){return y(a),_(e.onCountryChange(r))}),rt("updateSearchDataChange",function(r){return y(a),ot(e.isCountryFetched,r)||(e.isCountryFetched=r),_(r)}),g("onSelected",function(r){return y(a),_(e.updateCountry(r))}),d()(),s(11,"div",4),A(12,"app-textarea-form",7),d(),s(13,"div",8),A(14,"app-submit-button"),d()()()}if(n&2){c(),Ke(e.formData());let a=e.formData();c(2),m("formGroup",a),c(3),m("control",a.controls.status),c(2),m("required",!0)("control",a.controls.name),c(2),m("required",!0)("debounce",800)("control",a.controls.country_name)("data",e.countries()),it("updateSearchData",e.isCountryFetched),c(2),m("required",!1)("control",a.controls.remarks)}},dependencies:[Tt,Et,P,Ct,vt,bt,It,fe,_e],encapsulation:2})};var ve=class i{elementId=p.required();title=p.required();tooltip=p("Print");global=w(L);print(){this.global.print(this.elementId(),this.title())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-print-button"]],inputs:{elementId:[1,"elementId"],title:[1,"title"],tooltip:[1,"tooltip"]},decls:4,vars:1,consts:[["placement","auto",1,"d-flex","align-items-center","justify-content-center","ms-1",3,"tooltip"],["mat-raised-button","",1,"primary-color","border","border-primary-color","rounded","bg-primary-light","pt-1",3,"click"]],template:function(n,e){n&1&&(s(0,"div",0)(1,"button",1),g("click",function(){return e.print()}),s(2,"mat-icon"),f(3,"print"),d()()()),n&2&&m("tooltip",e.tooltip())},dependencies:[St,Dt,Vt,Lt],encapsulation:2})};var Sa=()=>["id","name","country.name","remarks","status"];function Ta(i,t){i&1&&(s(0,"span",16),f(1,"NAME"),d())}function Ia(i,t){if(i&1&&f(0),i&2){let n=t.value;k(" ",n," ")}}function Ea(i,t){i&1&&(s(0,"span",16),f(1,"COUNTRY"),d())}function Aa(i,t){if(i&1&&f(0),i&2){let n=t.row;k(" ",n==null||n.country==null?null:n.country.name," ")}}function ka(i,t){i&1&&(s(0,"span",16),f(1,"REMARKS"),d())}function Ma(i,t){if(i&1&&f(0),i&2){let n=t.value;k(" ",n||"-"," ")}}function Oa(i,t){i&1&&(s(0,"span",16),f(1,"STATUS"),d())}function xa(i,t){if(i&1){let n=E();s(0,"app-toggle-button",17),g("checkedChange",function(a){let o=y(n).row,r=h();return _(r.onStatusChange(a,o))}),d()}if(i&2){let n=t.row;m("checked",n.status)}}function Fa(i,t){i&1&&(s(0,"span",16),f(1,"ACTION"),d())}function Na(i,t){if(i&1){let n=E();s(0,"app-icon-round-button",18),g("onClick",function(){let a=y(n).row,o=h(),r=N(25);return _(o.editItem(a,r))}),d(),s(1,"app-icon-round-button",19),g("onClick",function(){let a=y(n).row,o=h();return _(o.deleteItemAlert(a))}),d()}}function Ba(i,t){if(i&1){let n=E();s(0,"div",20)(1,"h4",21),f(2),d(),s(3,"button",22),g("click",function(){y(n);let a=h();return _(a.global.hideModal())}),d()(),s(4,"div",23)(5,"app-add-state",24),g("added",function(a){y(n);let o=h();return _(o.addData(a))})("updated",function(a){y(n);let o=h();return _(o.updateData(a))}),d()()}if(i&2){let n=h();c(2),k(" ",n.updateItem()?"EDIT":"ADD"," STATE "),c(3),m("updateItem",n.updateItem())}}var Yt=class i{table=ct(K);ColumnMode=Ot;title="STATES";states=C([]);loadingIndicator=C(!1);updateItem=C(null);totalRecords=C(0);currentPage=C(0);pageSize=C(Ht.PAGE_SIZE);sortField=C("id");sortOrder=C("asc");filterText=C("");global=w(L);stateService=w(H);constructor(){}ngOnInit(){this.loadData()}setStates(t){this.states.set(t)}setLoadingIndicator(t){this.loadingIndicator.set(t)}updateTotalRecords(t){this.totalRecords.update(n=>n+t)}async loadData(){this.setLoadingIndicator(!0);try{let t={page:this.currentPage()+1,size:this.pageSize(),sortField:this.sortField(),sortOrder:this.sortOrder(),filter:this.filterText()};this.global.showSpinner();let n=await this.stateService.getStates(t);console.log(n),this.setStates(n?.data),this.totalRecords.set(n?.pagination?.total)}catch(t){console.log(t),this.global.showErrorMessage(t,null,3e3,!1,"decreasing","toast-top-center")}finally{this.setLoadingIndicator(!1),this.global.hideSpinner()}}onPageChange(t){console.log(t),this.currentPage.set(t.offset),this.loadData()}onSortChange(t){let n=t.sorts[0];n?.prop&&(this.sortField.set(n.prop),this.sortOrder.set(n.dir),this.loadData())}onFilterChange(t){this.filterText.set(t),this.loadData()}async openAddModal(t,n=!1){n||this.updateItem.set(null),this.global.showModal(t)}async deleteItemAlert(t){console.log(t);let n=await this.global.showAlert("Are you sure?","You want to delete this state!","YES",!1,"NO","question");n.isConfirmed?this.deleteItem(t):(n.dismiss,this.global.cancelSwal())}addData(t){this.states.update(n=>[...n,t]),this.updateTotalRecords(1)}updateData(t){this.states.update(n=>n.map(e=>e.id===t.id?t:e))}deleteData(t){this.states.update(n=>n.filter(e=>e.id!==t)),this.updateTotalRecords(-1)}async deleteItem(t){try{this.global.showSpinner();let n=await this.stateService.deleteState(t?.id);console.log(n),this.deleteData(t?.id),this.global.showSuccess("state deleted successfully",null,5e3,!1,"increasing","toast-top-center")}catch(n){console.log(n),this.global.showAlert("Error!",n,"OK")}finally{this.global.hideSpinner()}}editItem(t,n){this.updateItem.set(t),this.openAddModal(n,!0)}async onStatusChange(t,n){console.log(t);try{this.global.showSpinner();let e=await this.stateService.updateState(n?.id,{status:t});console.log(e),this.updateData(F(F({},n),e)),this.global.showSuccess(`${n?.name} status ${t?"activated":"deactivated"} successfully`,null,5e3,!1,"increasing","toast-top-center")}catch(e){console.log(e),this.global.showAlert("Error!",e,"OK")}finally{this.global.hideSpinner()}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=b({type:i,selectors:[["app-states"]],viewQuery:function(n,e){n&1&&tt(e.table,K,5),n&2&&at()},decls:26,vars:19,consts:[["table",""],["addStateTemplate",""],["buttonLabel","Add State",3,"onButtonClick","title","subRoute","lastRoute"],[1,"table-wrapper","rounded"],[1,"d-flex","align-items-center","justify-content-end"],[1,"search-table-input",3,"filteredData"],["api","getStates",3,"fileName","values","fields"],["elementId","state-table","title","States"],["id","state-table",1,"col-md-12","mb-3"],[1,"material",3,"page","sort","rows","columnMode","headerHeight","footerHeight","rowHeight","loadingIndicator","scrollbarH","externalPaging","limit","count","offset"],["prop","name"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["prop","remarks"],["prop","status"],[3,"frozenRight"],[1,"tableHeader"],[3,"checkedChange","checked"],["icon","fa fa-edit","addIconClass","edit","tooltip","Edit",3,"onClick"],["icon","fa fa-trash","addIconClass","delete","tooltip","Delete",3,"onClick"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title","mb-0","fw-bold"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"added","updated","updateItem"]],template:function(n,e){if(n&1){let a=E();s(0,"app-content-header",2),g("onButtonClick",function(){y(a);let r=N(25);return _(e.openAddModal(r))}),d(),s(1,"div",3)(2,"div",4)(3,"app-search-filter-input",5),g("filteredData",function(r){return y(a),_(e.onFilterChange(r))}),d(),A(4,"app-excel-button",6)(5,"app-print-button",7),d(),s(6,"div",8)(7,"ngx-datatable",9,0),g("page",function(r){return y(a),_(e.onPageChange(r))})("sort",function(r){return y(a),_(e.onSortChange(r))}),s(9,"ngx-datatable-column",10),S(10,Ta,2,0,"ng-template",11)(11,Ia,1,1,"ng-template",12),d(),s(12,"ngx-datatable-column"),S(13,Ea,2,0,"ng-template",11)(14,Aa,1,1,"ng-template",12),d(),s(15,"ngx-datatable-column",13),S(16,ka,2,0,"ng-template",11)(17,Ma,1,1,"ng-template",12),d(),s(18,"ngx-datatable-column",14),S(19,Oa,2,0,"ng-template",11)(20,xa,1,1,"ng-template",12),d(),s(21,"ngx-datatable-column",15),S(22,Fa,2,0,"ng-template",11)(23,Na,2,0,"ng-template",12),d()()()(),S(24,Ba,6,2,"ng-template",null,1,G)}n&2&&(m("title",e.title)("subRoute",e.title)("lastRoute",!1),c(4),m("fileName",e.title)("values",e.states())("fields",lt(18,Sa)),c(3),m("rows",e.states())("columnMode",e.ColumnMode.force)("headerHeight",50)("footerHeight",50)("rowHeight","auto")("loadingIndicator",e.loadingIndicator())("scrollbarH",!0)("externalPaging",!0)("limit",e.pageSize())("count",e.totalRecords())("offset",e.currentPage()),c(14),m("frozenRight",!0))},dependencies:[ge,Ft,Rt,Pt,xt,K,Mt,At,kt,Nt,zt,ve],encapsulation:2})};export{Yt as StatesComponent};
