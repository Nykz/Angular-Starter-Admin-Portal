import{a as v,b as D,c as ae}from"./chunk-DNOF7YZE.js";import{a as d}from"./chunk-SH4P4WHX.js";import{b as ne}from"./chunk-FANXGWSZ.js";import"./chunk-FVADJEY4.js";import"./chunk-LYWNF2LM.js";import"./chunk-EKGKYJJX.js";import{b as Q,c as ee,l as te,m as re,n as oe,p as m}from"./chunk-P35S44TO.js";import{V as X,a as B,b as z,e as Z,f as V,g as K,i as M,j as y,ma as q,ua as J}from"./chunk-77TY73XB.js";import{la as $}from"./chunk-VHJX2WMS.js";import"./chunk-W4BNGQYG.js";import{Aa as P,Db as j,K as T,Na as x,Yb as U,Zc as G,a as w,b as I,ba as b,bd as W,ea as c,ha as R,ja as s,ka as S,kb as L,la as F,nb as k,pb as H,t as f,ta as N,ua as E,ub as Y,ya as O,za as g}from"./chunk-TOUJTCCI.js";var ue="@",he=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=s(N);loadingSchedulerFn=s(fe,{optional:!0});_engine;constructor(e,t,o,a,i){this.doc=e,this.delegate=t,this.zone=o,this.animationType=a,this.moduleImpl=i}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-AMPHN4CT.js").then(o=>o),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(o=>{throw new b(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let i=new a(this.delegate,this._engine,this.zone);return this.delegate=i,i})}createRenderer(e,t){let o=this.delegate.createRenderer(e,t);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new A(o);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(i=>{let l=i.createRenderer(e,t);a.use(l),this.scheduler??=this.injector.get(P,null,{optional:!0}),this.scheduler?.notify(10)}).catch(i=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){k()};static \u0275prov=c({token:n,factory:n.\u0275fac})}return n})(),A=class{delegate;replay=[];\u0275type=1;constructor(r){this.delegate=r}use(r){if(this.delegate=r,this.replay!==null){for(let e of this.replay)e(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,e){this.delegate.appendChild(r,e)}insertBefore(r,e,t,o){this.delegate.insertBefore(r,e,t,o)}removeChild(r,e,t){this.delegate.removeChild(r,e,t)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,t,o){this.delegate.setAttribute(r,e,t,o)}removeAttribute(r,e,t){this.delegate.removeAttribute(r,e,t)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,t,o){this.delegate.setStyle(r,e,t,o)}removeStyle(r,e,t){this.delegate.removeStyle(r,e,t)}setProperty(r,e,t){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(r,e,t)),this.delegate.setProperty(r,e,t)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,t,o){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(r,e,t,o)),this.delegate.listen(r,e,t,o)}shouldReplay(r){return this.replay!==null&&r.startsWith(ue)}},fe=new R("");function se(n="animations"){return H("NgAsyncAnimations"),S([{provide:L,useFactory:(r,e,t)=>new he(r,e,t,n),deps:[E,B,j]},{provide:x,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var le=(n,r)=>{let e=s(d);return e.isLoggedIn()?!0:(e.navigateByUrl("/login"),!1)};var u=async(n,r)=>{let e=s(ne),t=s(m),o=s(d),a=await e.getProfile();console.log(a);let i=n.data?.role;return a?.role_id&&a?.role_id===i?!0:(o.navigateByUrl("/app"),await t.showAlert("Unauthorized Access!","You are not authorized to access this path. Contact Administrator for further information.","OK"),!1)};var de=[{path:"",redirectTo:"/app",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-CWNQIDAU.js").then(n=>n.AuthComponent)},{path:"app",loadComponent:()=>import("./chunk-2ULXAHWW.js").then(n=>n.LayoutComponent),canActivate:[le],children:[{path:"",redirectTo:"/app/dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-ZR4J2NYN.js").then(n=>n.DashboardComponent)},{path:"profile",loadComponent:()=>import("./chunk-VQ4FUNSV.js").then(n=>n.ProfileComponent)},{path:"users",loadComponent:()=>import("./chunk-HHZ4WGOB.js").then(n=>n.UsersComponent),data:{role:1},canActivate:[u]},{path:"countries",loadComponent:()=>import("./chunk-XDW6CJUG.js").then(n=>n.CountriesComponent)},{path:"states",loadComponent:()=>import("./chunk-CSA3EUH3.js").then(n=>n.StatesComponent)},{path:"roles",loadComponent:()=>import("./chunk-FCTDLLTE.js").then(n=>n.RolesComponent),data:{role:1},canActivate:[u]},{path:"manager-report",loadComponent:()=>import("./chunk-DQHE2XTD.js").then(n=>n.ManagerReportComponent),data:{role:1},canActivate:[u]}]},{path:"**",redirectTo:"/app/dashboard",pathMatch:"full"}];var pe=(n,r)=>{let e=s(d),t=s(m),o=g(!1),a=g(null);e.getToken();let i=W(()=>e.token());if(!i())return r(n);let l=n.clone({setHeaders:{Authorization:`Bearer ${i()}`}});return r(l).pipe(T(p=>(console.log("error: ",p),p.status===401||p.status===403?ge(p,e,t):f(()=>p))))},ge=(n,r,e)=>(console.error("Logout due to error: ",n?.error?.message),r.logout(),e.showAlert("Alert",n,"OK"),f(()=>n));var Me=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,ye=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function _(n,r){let e=Array(n);for(let t=0;t<n;t++)e[t]=r(t);return e}var ve=(()=>{class n extends D{useUtcForDisplay=!1;_matDateLocale=s(v,{optional:!0});constructor(){super();let e=s(v,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return _(12,o=>this._format(t,new Date(2017,o,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return _(31,t=>this._format(e,new Date(2017,0,t+1)))}getDayOfWeekNames(e){let t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return _(7,o=>this._format(t,new Date(2017,0,o+1)))}getYearName(e){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(t,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),t=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return t===7?0:t}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,o){let a=this._createDateWithOverflow(e,t,o);return a.getMonth()!=t,a}today(){return new Date}parse(e,t){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,I(w({},t),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,t){return this.addCalendarMonths(e,t*12)}addCalendarMonths(e,t){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+t)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(Me.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,t,o,a){let i=this.clone(e);return i.setHours(t,o,a,0),i}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,t){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let o=e.trim();if(o.length===0)return null;let a=this._parseTimeString(o);if(a===null){let i=o.replace(/[^0-9:(AM|PM)]/gi,"").trim();i.length>0&&(a=this._parseTimeString(i))}return a||this.invalid()}addSeconds(e,t){return new Date(e.getTime()+t*1e3)}_createDateWithOverflow(e,t,o){let a=new Date;return a.setFullYear(e,t,o),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_format(e,t){let o=new Date;return o.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(o)}_parseTimeString(e){let t=e.toUpperCase().match(ye);if(t){let o=parseInt(t[1]),a=parseInt(t[2]),i=t[3]==null?void 0:parseInt(t[3]),l=t[4];if(o===12?o=l==="AM"?0:o:l==="PM"&&(o+=12),C(o,0,23)&&C(a,0,59)&&(i==null||C(i,0,59)))return this.setTime(this.today(),o,a,i||0)}return null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=c({token:n,factory:n.\u0275fac})}return n})();function C(n,r,e){return!isNaN(n)&&n>=r&&n<=e}var De={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};function ce(n=De){return[{provide:D,useClass:ve},{provide:ae,useValue:n}]}var me={providers:[$,se(),O(),G(),q(de,J()),y(M()),Z(V([pe]),K()),F(Q,ee.forRoot(),te.forRoot(),re),y(M()),ce()]};var h=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&U(0,"router-outlet")},dependencies:[X],encapsulation:2})};if(oe.production){let n=()=>{};["log","warn","error","info","debug","trace","time","timeEnd"].forEach(e=>{typeof console[e]=="function"&&(console[e]=n)})}z(h,me).catch(n=>console.error(n));
