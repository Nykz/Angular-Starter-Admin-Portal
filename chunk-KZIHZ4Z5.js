import{a as n}from"./chunk-WWYCEHUS.js";import{o as m}from"./chunk-P35S44TO.js";import{a as c,b as y,ea as R,ja as w}from"./chunk-TOUJTCCI.js";var g=class a{http=w(m);constructor(){}async addRole(s){try{s=this.http.cleanFormValues(s);let t=y(c({},s),{id:3}),e={success:!0,data:c({},t)};return e?.success||this.http.throwResponseError(e),e?.data}catch(t){throw t}}async updateRole(s,t){try{let e=!1;console.log(t),t=this.http.cleanFormValues(t),console.log(t);let r={name:t?.name,id:s},o={success:!0,data:c({},r)};return o?.success||this.http.throwResponseError(o),o?.data}catch(e){throw e}}async getRoles(s){try{let{page:t=1,size:e=10,sortField:r="id",sortOrder:o="asc",filter:v=""}=s,i=n.filter(l=>{let p=v.toLowerCase();return l.name.toLowerCase().includes(p)});i.sort((l,p)=>{let u=l[r],f=p[r];return u<f?o==="asc"?-1:1:u>f?o==="asc"?1:-1:0});let d=i.length,h=(t-1)*e,E=h+e;return{success:!0,data:i.slice(h,E),pagination:{page:t,size:e,total:d,totalPages:Math.ceil(d/e)}}}catch(t){throw t}}async getAllRoles(s){try{let t;s?t=n.filter(r=>{let o=s.toLowerCase();return r.name.toLowerCase().includes(o)}):t=n;let e={success:!0,data:t};return console.log(e),e?.success||this.http.throwResponseError(e),e?.data}catch(t){throw t}}async deleteRole(s){try{let e={success:!0,data:n.find(r=>r.id===s)};return e?.success||this.http.throwResponseError(e),e?.data}catch(t){throw t}}static \u0275fac=function(t){return new(t||a)};static \u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})};export{g as a};
