import{a as v,b as D,c as oe}from"./chunk-DNOF7YZE.js";import{a as d}from"./chunk-6UVM7RYO.js";import{b as re}from"./chunk-46A247NX.js";import"./chunk-FVADJEY4.js";import"./chunk-LYWNF2LM.js";import"./chunk-EKGKYJJX.js";import{b as J,c as Q,l as ee,m as te,o as c}from"./chunk-BRY6XSFD.js";import{V as X,a as B,b as z,e as Z,f as V,g as K,i as M,j as y,ma as q}from"./chunk-77TY73XB.js";import{la as $}from"./chunk-VHJX2WMS.js";import"./chunk-W4BNGQYG.js";import{Aa as P,Db as j,K as T,Na as x,Yb as U,Zc as G,a as w,b as I,ba as b,bd as W,ea as m,ha as R,ja as s,ka as S,kb as L,la as F,nb as k,pb as H,t as f,ta as N,ua as E,ub as Y,ya as O,za as g}from"./chunk-TOUJTCCI.js";var me="@",ce=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=s(N);loadingSchedulerFn=s(ue,{optional:!0});_engine;constructor(e,t,r,a,i){this.doc=e,this.delegate=t,this.zone=r,this.animationType=a,this.moduleImpl=i}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-AMPHN4CT.js").then(r=>r),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(r=>{throw new b(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let i=new a(this.delegate,this._engine,this.zone);return this.delegate=i,i})}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new A(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(i=>{let l=i.createRenderer(e,t);a.use(l),this.scheduler??=this.injector.get(P,null,{optional:!0}),this.scheduler?.notify(10)}).catch(i=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){k()};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})(),A=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,e){return this.delegate.createElement(o,e)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,e){this.delegate.appendChild(o,e)}insertBefore(o,e,t,r){this.delegate.insertBefore(o,e,t,r)}removeChild(o,e,t){this.delegate.removeChild(o,e,t)}selectRootElement(o,e){return this.delegate.selectRootElement(o,e)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,e,t,r){this.delegate.setAttribute(o,e,t,r)}removeAttribute(o,e,t){this.delegate.removeAttribute(o,e,t)}addClass(o,e){this.delegate.addClass(o,e)}removeClass(o,e){this.delegate.removeClass(o,e)}setStyle(o,e,t,r){this.delegate.setStyle(o,e,t,r)}removeStyle(o,e,t){this.delegate.removeStyle(o,e,t)}setProperty(o,e,t){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(o,e,t)),this.delegate.setProperty(o,e,t)}setValue(o,e){this.delegate.setValue(o,e)}listen(o,e,t,r){return this.shouldReplay(e)&&this.replay.push(a=>a.listen(o,e,t,r)),this.delegate.listen(o,e,t,r)}shouldReplay(o){return this.replay!==null&&o.startsWith(me)}},ue=new R("");function ae(n="animations"){return H("NgAsyncAnimations"),S([{provide:L,useFactory:(o,e,t)=>new ce(o,e,t,n),deps:[E,B,j]},{provide:x,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ie=(n,o)=>{let e=s(d);return e.isLoggedIn()?!0:(e.navigateByUrl("/login"),!1)};var u=async(n,o)=>{let e=s(re),t=s(c),r=s(d),a=await e.getProfile();console.log(a);let i=n.data?.role;return a?.role_id&&a?.role_id===i?!0:(r.navigateByUrl("/app"),await t.showAlert("Unauthorized Access!","You are not authorized to access this path. Contact Administrator for further information.","OK"),!1)};var se=[{path:"",redirectTo:"/app",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-FCQHKMU5.js").then(n=>n.AuthComponent)},{path:"app",loadComponent:()=>import("./chunk-YDQOOONW.js").then(n=>n.LayoutComponent),canActivate:[ie],children:[{path:"",redirectTo:"/app/dashboard",pathMatch:"full"},{path:"dashboard",loadComponent:()=>import("./chunk-VDR7GRQN.js").then(n=>n.DashboardComponent)},{path:"profile",loadComponent:()=>import("./chunk-FZYVFSPY.js").then(n=>n.ProfileComponent)},{path:"users",loadComponent:()=>import("./chunk-NHVROOOT.js").then(n=>n.UsersComponent),data:{role:1},canActivate:[u]},{path:"countries",loadComponent:()=>import("./chunk-ZERXOIT6.js").then(n=>n.CountriesComponent)},{path:"states",loadComponent:()=>import("./chunk-ZDUHMOL7.js").then(n=>n.StatesComponent)},{path:"roles",loadComponent:()=>import("./chunk-YDEVZQV2.js").then(n=>n.RolesComponent),data:{role:1},canActivate:[u]},{path:"manager-report",loadComponent:()=>import("./chunk-HLH7UJAQ.js").then(n=>n.ManagerReportComponent),data:{role:1},canActivate:[u]}]},{path:"**",redirectTo:"/app/dashboard",pathMatch:"full"}];var le=(n,o)=>{let e=s(d),t=s(c),r=g(!1),a=g(null);e.getToken();let i=W(()=>e.token());if(!i())return o(n);let l=n.clone({setHeaders:{Authorization:`Bearer ${i()}`}});return o(l).pipe(T(p=>(console.log("error: ",p),p.status===401||p.status===403?he(p,e,t):f(()=>p))))},he=(n,o,e)=>(console.error("Logout due to error: ",n?.error?.message),o.logout(),e.showAlert("Alert",n,"OK"),f(()=>n));var fe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,ge=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function _(n,o){let e=Array(n);for(let t=0;t<n;t++)e[t]=o(t);return e}var Me=(()=>{class n extends D{useUtcForDisplay=!1;_matDateLocale=s(v,{optional:!0});constructor(){super();let e=s(v,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return _(12,r=>this._format(t,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return _(31,t=>this._format(e,new Date(2017,0,t+1)))}getDayOfWeekNames(e){let t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return _(7,r=>this._format(t,new Date(2017,0,r+1)))}getYearName(e){let t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(t,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),t=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return t===7?0:t}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,r){let a=this._createDateWithOverflow(e,t,r);return a.getMonth()!=t,a}today(){return new Date}parse(e,t){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,I(w({},t),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,t){return this.addCalendarMonths(e,t*12)}addCalendarMonths(e,t){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+t)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(fe.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,t,r,a){let i=this.clone(e);return i.setHours(t,r,a,0),i}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,t){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let a=this._parseTimeString(r);if(a===null){let i=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();i.length>0&&(a=this._parseTimeString(i))}return a||this.invalid()}addSeconds(e,t){return new Date(e.getTime()+t*1e3)}_createDateWithOverflow(e,t,r){let a=new Date;return a.setFullYear(e,t,r),a.setHours(0,0,0,0),a}_2digit(e){return("00"+e).slice(-2)}_format(e,t){let r=new Date;return r.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.format(r)}_parseTimeString(e){let t=e.toUpperCase().match(ge);if(t){let r=parseInt(t[1]),a=parseInt(t[2]),i=t[3]==null?void 0:parseInt(t[3]),l=t[4];if(r===12?r=l==="AM"?0:r:l==="PM"&&(r+=12),C(r,0,23)&&C(a,0,59)&&(i==null||C(i,0,59)))return this.setTime(this.today(),r,a,i||0)}return null}static \u0275fac=function(t){return new(t||n)};static \u0275prov=m({token:n,factory:n.\u0275fac})}return n})();function C(n,o,e){return!isNaN(n)&&n>=o&&n<=e}var ye={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};function de(n=ye){return[{provide:D,useClass:Me},{provide:oe,useValue:n}]}var pe={providers:[$,ae(),O(),G(),q(se),y(M()),Z(V([le]),K()),F(J,Q.forRoot(),ee.forRoot(),te),y(M()),de()]};var h=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){e&1&&U(0,"router-outlet")},dependencies:[X],encapsulation:2})};z(h,pe).catch(n=>console.error(n));
